<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AR test</title>

    <script src="js/aframe.js"></script>
    <script src="js/mindar-image-aframe.js"></script>
    <script src="js/shader.js"></script>
    <script src="js/randomizers.js"></script>
    <script src="js/main.js"></script>
    
    <link rel="stylesheet" href="style.css">
</head>
<body style="margin : 0px; overflow: hidden;">
    <a-scene renderer-savable mindar-image="imageTargetSrc: ./markers/qr_code.mind; filterMinCF:0.0001; filterBeta: 0.001" color-space="sRGB" renderer="colorManagement: true, physicallyCorrectLights" vr-mode-ui="enabled: false" device-orientation-permission-ui="enabled: false">
      
      <a-assets></a-assets>

      <a-camera position="0 0 0" look-controls="enabled: false"></a-camera>

      <a-entity mindar-image-target="targetIndex: 0">
        <!-- -1.2 <a-plane position="0 0 0" height="2" width="2" rotation="0 0 0" src="#card" material="shader:displace; transparent: true;" ></a-plane -->
        
          <a-entity
          scale="0.9 0.9 0.9"
          position="0 -1.7 0"
          
          model-shader="texture: ./textures/paint.png"
          
          random-model="path: ./models/; list: pixel,spike,organic,cropped,sun"
          random-texture="path: ./textures/; list: paint,paint2,leave,fire,cabbage,pixels,pcb,fur,digital,digital2,crt"
          >

        </a-entity>
      </a-entity>

    </a-scene>

    <div class="overlay-text">
      <span class="sm">carnaval digital-pirate</span>
      <span>CONTACTS</span>
    </div>

    <button id="take-screenshot">Prendre une photo</button>


    <div id="overlay">
      <img src="" id="image-screenshot" alt="image-screenshot">
      <div style="display: flex; gap:8px; position: relative;">
        <button id="retry"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rotate-cw"><path d="M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"/><path d="M21 3v5h-5"/></svg></button>
        <button id="download"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-download"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" x2="12" y1="15" y2="3"/></svg></button>
      </div>
      <div style="height: 100%;"></div>
      <button class="big"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-eye"><path d="M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"/><circle cx="12" cy="12" r="3"/></svg> Voir le dossier de production</button>
    </div>
    <!-- img id="qr_code" src="./scan_reference.png" alt="scan" -->

  </body>
</html>